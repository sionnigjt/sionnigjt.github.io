(function(){"use strict";var e={2954:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var a=n(9155),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r={},s=r,c=n(1001),l=(0,c.Z)(s,o,i,!1,null,"7c83fdb7",null),u=l.exports,p=n(1788),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"index_container"}},[n("div",{attrs:{id:"search_wrap"}},[n("search")],1),n("div",{attrs:{id:"map_wrap"}},[n("map-container")],1),n("div",{attrs:{id:"heatMap_wrap"}},[n("heat-map-search-box")],1),n("div",{attrs:{id:"shadow"}}),n("div",{attrs:{id:"info_window_wrap"}},[n("info-window")],1)])},f=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}})},m=[],g=(n(1249),n(4916),n(4765),n(8309),n(50)),v=n.n(g),w=new a["default"];window._AMapSecurityConfig={securityJsCode:"311870070113192a5f5776dd2a8b0486"};var _={data:function(){return{map:null,autoOptions:{input:""},searchPlaceInput:"",auto:null,placeSearch:null,district:null,polygons:[],showHeatOrNot:!1,heatmap:null,heatmapList:null,grade:"错误",polygon_grade_one:[],markers:[]}},methods:{initMap:function(){var e=this;v().load({key:"b1ffdc158b6df44fabca3c066d4f4a43",version:"2.0",plugins:["AMap.ToolBar","AMap.Scale","AMap.HawkEye","AMap.MapType","AMap.Geolocation","AMap.AutoComplete","AMap.PlaceSearch","AMap.Geocoder"]}).then((function(t){e.map=new t.Map("container",{viewMode:"3D",zoom:10,center:[101.704657,26.547333]}),e.map.addControl(new t.Scale),e.map.addControl(new t.ToolBar),e.map.addControl(new t.MapType),console.log(e.autoOption),e.auto=new t.AutoComplete({input:"searchInput",city:"510400"}),e.placeSearch=new t.PlaceSearch({map:e.map,pageSize:1,pageIndex:1,city:"510400",citylimit:!0,autoFitView:!0}),e.auto.on("select",e.select),e.map.on("click",(function(t){var n=t.lnglat.lat,a=t.lnglat.lng;e.getLngLatService(n,a)}));var n=[new t.LngLat(101.719165,26.570229),new t.LngLat(101.726925,26.54451),new t.LngLat(101.763708,26.555951)],a=new t.Polygon({path:n,fillColor:"blue",borderWeight:2,strokeColor:"blue",zIndex:2,bubble:!0});e.map.add(a),e.map.setFitView([a]),e.polygon_grade_one.push(a)})).catch((function(e){console.log(e)}))},select:function(e){var t=this.polygon_grade_one;this.placeSearch.setCity(e.poi.adcode),this.placeSearch.search(e.poi.name,(function(e,n){console.log(e,n);var a={pos:[n.poiList.pois[0].location.lng,n.poiList.pois[0].location.lat],address:n.poiList.pois[0].cityname+n.poiList.pois[0].adname+n.poiList.pois[0].name,grade:"错误"},o=new AMap.LngLat(n.poiList.pois[0].location.lng,n.poiList.pois[0].location.lat);t[0].contains(o)&&(a.grade="1"),console.log(a),w.$emit("shareAddressDetails",a)})),this.map.setZoom(16,!0,1)},feedBack:function(e,t){this.$message({showClose:!0,message:e,type:t})},getLngLatService:function(e,t){var n=[t,e],a=new AMap.LngLat(t,e),o=new AMap.Geocoder({city:"510400"}),i=new AMap.Marker({position:new AMap.LngLat(t,e)});this.map.add(i),this.markers.length>0&&this.map.remove(this.markers),this.markers.push(i);var r="",s=this.grade,c=this.polygon_grade_one;c[0].contains(a)&&(s="1"),o.getAddress(a,(function(e,t){if("complete"===e&&t.regeocode){r=t.regeocode.formattedAddress;var a={pos:n,address:r,grade:s};w.$emit("shareAddressDetails",a)}else log.error("根据经纬度查询地址失败")}))}},mounted:function(){this.initMap()},created:function(){var e=this;w.$on("shareUserInput",(function(t){e.autoOptions.input=t.inputId,e.searchPlaceInput=t.userInput}))},watch:{searchPlaceInput:function(e){var t=new AMap.Geocoder({city:"510400"});t.getLocation(e,(function(e,t){if("complete"===e&&"OK"===t.info){var n=t.geocodes[0].location;marker.setPosition(n),map.add(marker),map.setFitView(marker)}}))},showHeatOrNot:function(e){e?this.showHeatMap():this.heatmap.hide()}}},b=_,y=(0,c.Z)(b,h,m,!1,null,"3af9f659",null),M=y.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"search_container"}},[n("el-input",{attrs:{id:e.inputObject.inputId,placeholder:"请输入你要查找的地点",type:"text"},model:{value:e.inputObject.userInput,callback:function(t){e.$set(e.inputObject,"userInput",t)},expression:"inputObject.userInput"}}),n("el-button",{attrs:{type:"primary",id:"searchBtn"},on:{click:e.send}},[e._v("搜索")])],1)},A=[],O={data:function(){return{inputObject:{userInput:"",inputId:"searchInput"}}},methods:{send:function(){w.$emit("shareUserInput",this.inputObject)}},created:function(){this.send()}},k=O,S=(0,c.Z)(k,L,A,!1,null,"afdf6faa",null),x=S.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"heat_map_search_box_container"}})},I=[],j={data:function(){return{checked:!1}},methods:{send:function(){}}},$=j,P=(0,c.Z)($,C,I,!1,null,"957d9d5c",null),Z=P.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"info_window_container"}},[n("el-descriptions",{staticClass:"margin-top",attrs:{column:2,size:e.size,border:""}},[n("el-descriptions-item",[n("template",{slot:"label"},[n("i",{staticClass:"el-icon-position"}),e._v(" 经纬度 ")]),e._v(" "+e._s(e.placeLocation)+" ")],2),n("el-descriptions-item",[n("template",{slot:"label"},[n("i",{staticClass:"el-icon-tickets"}),e._v(" 土地等级 ")]),n("el-tag",{attrs:{size:"small"}},[e._v("等级"+e._s(e.grade))])],2),n("el-descriptions-item",[n("template",{slot:"label"},[n("i",{staticClass:"el-icon-office-building"}),e._v(" 地址 ")]),e._v(" "+e._s(e.placeAddress)+" ")],2)],1)],1)},E=[],z={data:function(){return{placeAddress:"",placeLocation:"",grade:""}},created:function(){var e=this;w.$on("shareAddressDetails",(function(t){e.placeAddress=t.address,e.placeLocation=t.pos,e.grade=t.grade}))}},B=z,H=(0,c.Z)(B,T,E,!1,null,"26a7b174",null),D=H.exports,F={components:{MapContainer:M,Search:x,HeatMapSearchBox:Z,InfoWindow:D}},G=F,V=(0,c.Z)(G,d,f,!1,null,"07c00ef8",null),N=V.exports;a["default"].use(p.Z);var U=[{path:"/",component:N}],W=new p.Z({mode:"history",base:"",routes:U}),J=W,K=n(2740);a["default"].use(K.ZP);var q=new K.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),Q=n(5437),R=n.n(Q);a["default"].config.productionTip=!1,a["default"].use(R()),new a["default"]({router:J,store:q,render:function(e){return e(u)}}).$mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,i){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],i=e[u][2];for(var s=!0,c=0;c<a.length;c++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(s=!1,i<r&&(r=i));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,r=a[0],s=a[1],c=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n)}for(t&&t(a);l<r.length;l++)i=r[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkgaode"]=self["webpackChunkgaode"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2954)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.3621a29e.js.map