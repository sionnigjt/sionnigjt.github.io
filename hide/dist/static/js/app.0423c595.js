(function(){"use strict";var e={2954:function(e,t,a){var n=a(9155),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r={},s=r,l=a(1001),c=(0,l.Z)(s,o,i,!1,null,"7c83fdb7",null),p=c.exports,d=a(1788),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"index_container"}},[a("div",{attrs:{id:"search_wrap"}},[a("search")],1),a("div",{attrs:{id:"map_wrap"}},[a("map-container")],1),a("div",{attrs:{id:"heatMap_wrap"}},[a("heat-map-search-box")],1),a("div",{attrs:{id:"shadow"}}),a("div",{attrs:{id:"info_window_wrap"}},[a("info-window")],1)])},h=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}})},m=[],g=a(50),v=a.n(g),w=new n["default"];window._AMapSecurityConfig={securityJsCode:"311870070113192a5f5776dd2a8b0486"};var _={data(){return{map:null,autoOptions:{input:""},searchPlaceInput:"",auto:null,placeSearch:null,district:null,polygons:[],showHeatOrNot:!1,heatmap:null,heatmapList:null,grade:"错误",polygon_grade_one:[],markers:[]}},methods:{initMap(){v().load({key:"b1ffdc158b6df44fabca3c066d4f4a43",version:"2.0",plugins:["AMap.ToolBar","AMap.Scale","AMap.HawkEye","AMap.MapType","AMap.Geolocation","AMap.AutoComplete","AMap.PlaceSearch","AMap.Geocoder"]}).then((e=>{this.map=new e.Map("container",{viewMode:"3D",zoom:10,center:[101.704657,26.547333]}),this.map.addControl(new e.Scale),this.map.addControl(new e.ToolBar),this.map.addControl(new e.MapType),console.log(this.autoOption),this.auto=new e.AutoComplete({input:"searchInput",city:"510400"}),this.placeSearch=new e.PlaceSearch({map:this.map,pageSize:1,pageIndex:1,city:"510400",citylimit:!0,autoFitView:!0}),this.auto.on("select",this.select),this.map.on("click",(e=>{let t=e.lnglat.lat,a=e.lnglat.lng;this.getLngLatService(t,a)}));const t=[new e.LngLat(101.719165,26.570229),new e.LngLat(101.726925,26.54451),new e.LngLat(101.763708,26.555951)],a=new e.Polygon({path:t,fillColor:"blue",borderWeight:2,strokeColor:"blue",zIndex:2,bubble:!0});this.map.add(a),this.map.setFitView([a]),this.polygon_grade_one.push(a)})).catch((e=>{console.log(e)}))},select(e){let t=this.polygon_grade_one;this.placeSearch.setCity(e.poi.adcode),this.placeSearch.search(e.poi.name,(function(e,a){console.log(e,a);let n={pos:[a.poiList.pois[0].location.lng,a.poiList.pois[0].location.lat],address:a.poiList.pois[0].cityname+a.poiList.pois[0].adname+a.poiList.pois[0].name,grade:"错误"},o=new AMap.LngLat(a.poiList.pois[0].location.lng,a.poiList.pois[0].location.lat);t[0].contains(o)&&(n.grade="1"),console.log(n),w.$emit("shareAddressDetails",n)})),this.map.setZoom(16,!0,1)},feedBack(e,t){this.$message({showClose:!0,message:e,type:t})},getLngLatService(e,t){let a=[t,e],n=new AMap.LngLat(t,e),o=new AMap.Geocoder({city:"510400"}),i=new AMap.Marker({position:new AMap.LngLat(t,e)});this.map.add(i),this.markers.length>0&&this.map.remove(this.markers),this.markers.push(i);let r="",s=this.grade,l=this.polygon_grade_one;l[0].contains(n)&&(s="1"),o.getAddress(n,((e,t)=>{if("complete"===e&&t.regeocode){r=t.regeocode.formattedAddress;let e={pos:a,address:r,grade:s};w.$emit("shareAddressDetails",e)}else log.error("根据经纬度查询地址失败")}))}},mounted(){this.initMap()},created(){w.$on("shareUserInput",(e=>{this.autoOptions.input=e.inputId,this.searchPlaceInput=e.userInput}))},watch:{searchPlaceInput(e){let t=new AMap.Geocoder({city:"510400"});t.getLocation(e,(function(e,t){if("complete"===e&&"OK"===t.info){let e=t.geocodes[0].location;marker.setPosition(e),map.add(marker),map.setFitView(marker)}}))},showHeatOrNot(e){e?this.showHeatMap():this.heatmap.hide()}}},b=_,y=(0,l.Z)(b,f,m,!1,null,"3af9f659",null),M=y.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search_container"}},[a("el-input",{attrs:{id:e.inputObject.inputId,placeholder:"请输入你要查找的地点",type:"text"},model:{value:e.inputObject.userInput,callback:function(t){e.$set(e.inputObject,"userInput",t)},expression:"inputObject.userInput"}}),a("el-button",{attrs:{type:"primary",id:"searchBtn"},on:{click:e.send}},[e._v("搜索")])],1)},A=[],O={data(){return{inputObject:{userInput:"",inputId:"searchInput"}}},methods:{send(){w.$emit("shareUserInput",this.inputObject)}},created(){this.send()}},k=O,S=(0,l.Z)(k,L,A,!1,null,"afdf6faa",null),x=S.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"heat_map_search_box_container"}})},I=[],j={data(){return{checked:!1}},methods:{send(){}}},$=j,P=(0,l.Z)($,C,I,!1,null,"957d9d5c",null),Z=P.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"info_window_container"}},[a("el-descriptions",{staticClass:"margin-top",attrs:{column:2,size:e.size,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-position"}),e._v(" 经纬度 ")]),e._v(" "+e._s(e.placeLocation)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-tickets"}),e._v(" 土地等级 ")]),a("el-tag",{attrs:{size:"small"}},[e._v("等级"+e._s(e.grade))])],2),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-office-building"}),e._v(" 地址 ")]),e._v(" "+e._s(e.placeAddress)+" ")],2)],1)],1)},E=[],z={data(){return{placeAddress:"",placeLocation:"",grade:""}},created(){w.$on("shareAddressDetails",(e=>{this.placeAddress=e.address,this.placeLocation=e.pos,this.grade=e.grade}))}},B=z,H=(0,l.Z)(B,T,E,!1,null,"26a7b174",null),D=H.exports,F={components:{MapContainer:M,Search:x,HeatMapSearchBox:Z,InfoWindow:D}},G=F,V=(0,l.Z)(G,u,h,!1,null,"07c00ef8",null),N=V.exports;n["default"].use(d.Z);const U=[{path:"/",component:N}],W=new d.Z({mode:"history",base:"",routes:U});var J=W,K=a(2740);n["default"].use(K.ZP);var q=new K.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),Q=a(5437),R=a.n(Q);n["default"].config.productionTip=!1,n["default"].use(R()),new n["default"]({router:J,store:q,render:e=>e(p)}).$mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,i){if(!n){var r=1/0;for(p=0;p<e.length;p++){n=e[p][0],o=e[p][1],i=e[p][2];for(var s=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(s=!1,i<r&&(r=i));if(s){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,r=n[0],s=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var p=l(a)}for(t&&t(n);c<r.length;c++)i=r[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(p)},n=self["webpackChunkgaode"]=self["webpackChunkgaode"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2954)}));n=a.O(n)})();
//# sourceMappingURL=app.0423c595.js.map